---
order: 2
layout: '@docsLayout'
title: 'signalizejs/fetch'
description: 'Wrapper around native javascript fetch.'
---

It does the following:
- Improves error handling
- By default it sets method to `POST` if the body argument is passed and no method was added
- If body argument is passed, it's not a string, number or FormData, it automatically converts it using `JSON.stringify()` and sets `application/json` header
- It ads `X-Requested-With` header to the request, so you can detect if the request is ajax or not on the server
- If FormData re used and no header is added, it tries to detect, if you have a file input or not in the form. If not, it use `application/x-www-form-urlencoded`. Otherwise, it use `multipart/form-data`

## Installation
The `fetch` plugin comes with the Signalize default installation. You just need to import it.

```js
import Signalize from 'signalizejs';
import fetchPlugin from 'signalizejs/fetch';

const { fetch } = new Signalize({
	plugins: [ fetchPlugin() ]
});
```

## API

### fetch
- Send fetch request to the server
- The arguments are the same like for [native fetch](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch)

```js
const {
	// Fetch response, if request was successfull
	response,
	// Error info or null
	error
} = await fetch(url, options);

if (error === null) {
	const json = response.json();
	// Do something
}
```

## Dispatched Events
- `fetch:request:start` - Dispatched, when requests starts
- `fetch:request:success` - Dispatched, when requests ends and is without error
- `fetch:request:error` - Dispatched, when requests ends and contains errors
- `fetch:request:end` - Dispatched, when requests ends (even with an error).
