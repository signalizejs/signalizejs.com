---
order: 2
layout: '@docsLayout'
title: 'signalizejs/event'
description: 'Add event listener to an element or listen to global events.'
---

import ImportMapDependencies from '@components/DocsImportmapDependencies.astro';

## Installation
<ImportMapDependencies module="event" />

```js
import Signalize from 'signalizejs';

const {
	off,
	on,
	customEvent,
	customEventListener
} = new Signalize();
```

## API

### on
Atach listener to elements or listen to dispatched events.

Listeners are automatically attached to dynamically added elements if the second argument is a string selector.
```js
// Listen to globally dispatched event on the root element
on('custom:event', () => {});

// Binds listener directly to existing element
on('click', document.querySelector('#element'), () => {});

// Binds listener globally, works on dynamically added elements
on('click', '.element', () => {});

// Binds two events to already existing elements
on('click mouseover', document.querySelectorAll('.element'), () => {});

// Binds two events to already existing elements
on('click mouseover', document.querySelectorAll('.element'), () => {}, {
	// Default false
	passive: true,
	// Default false
	once: true
});
```

The `on` function also automatically prepares function that will remove the defined listenr, so you don't have to prepare it yourself:
```js
const removeListener = on('click', '.selector', () => alert('Hello World'));

// This will remove the defined click listener above.
removeListener();
```

### off
Remove event listener or listeners from one or more elements.

```js
// Binds listener directly to existing element
const handler = () => alert('Hello World!');
const element = document.querySelector('#element');

// Remove handler from existing element
off('click', element, handler);

// Remove handler from all elements globally
off('click', '.element', handler);

// Remove two event listeners from already existing elements
off('click mouseover', [element], handler);
```

### customEventListener
Create a custom event listener.

```js
customEventListener('clickOutside', () => {
	return {
		on: ({ listener, target, options }) => {},
		off: ({ listener, target, options }) => {}
	}
});

/*
 Before "listener" callback is attached to a custom event listener event as argument,
 there is a check, if the event should be triggered only once (once: true).

 If so, the "off" callback of custom event listener is called automatically
 after the first call if it is defined. You don't have to programe it by yourself.

 This keeps the behavior similar to the native once: true option.
 You should always consider the possibility to remove event listener.
*/
on('clickOutside', element, () => {
	// This will be triggered only once and automatically removed
}, { once: true })

```

### customEvent
Creates a custom event you can later dispatch.

Internaly uses native [CustomEvent](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent).

```js
const myEvent = customEvent(
	'my-event',
	// Optional
	{ /* data*/ },
	// Native custom event options - example with defaults
	{
		cancellable: false,
		bubbles: false
	}
);

document.dispatchEvent(myEvent);
```
